{"version":3,"sources":["../../../../../assets/scripts/tools/assets/scripts/tools/Localization.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AAG9B,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAA;IA8DA,CAAC;qBA9DoB,YAAY;IAMtB,0BAAa,GAApB,UAAqB,QAAe;QAEhC,EAAE,CAAA,CAAC,cAAY,CAAC,SAAS,IAAI,IAAI,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,SAAS,CAAC,CACjF,CAAC;YACG,mBAAS,CAAC,GAAG,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC;YACxC,cAAY,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;IACL,CAAC;IAEM,wBAAW,GAAlB,UAAmB,IAAW;QAE1B,EAAE,CAAA,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE,CAAC,CAChC,CAAC;YACG,cAAY,CAAC,QAAQ,GAAG,IAAI,CAAA;QAChC,CAAC;IACL,CAAC;IAEM,wBAAW,GAAlB;QAEI,MAAM,CAAC,cAAY,CAAC,QAAQ,CAAC;IACjC,CAAC;IAEM,+BAAkB,GAAzB,UAA0B,GAAU;QAEhC,EAAE,CAAC,CAAC,cAAY,CAAC,SAAS,IAAI,IAAI,CAAC,CACnC,CAAC;YACG,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QAED,IAAI,YAAY,GAAG,cAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;QAC9C,EAAE,CAAA,CAAC,YAAY,KAAK,IAAI,IAAI,YAAY,KAAK,SAAS,CAAC,CACvD,CAAC;YACG,MAAM,CAAC,YAAY,CAAC,cAAY,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC;QACrE,CAAC;QAED,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAEM,yBAAY,GAAnB,UAAoB,KAAc,EAAC,GAAU,EAAC,MAAY;QAEtD,EAAE,CAAA,CAAC,KAAK,IAAI,IAAI,IAAI,GAAI,CAAC,CACzB,CAAC;YACG,IAAI,QAAQ,GAAG,cAAY,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YAEpD,EAAE,CAAA,CAAC,MAAM,CAAC,CACV,CAAC;gBACG,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;gBACxB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAC3B,CAAC;oBACG,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,CAAC;YACL,CAAC;YAED,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC5B,CAAC;IACL,CAAC;IA3DM,qBAAQ,GAAU,IAAI,CAAC;IAEvB,sBAAS,GAAO,IAAI,CAAC;IAJX,YAAY;QADhC,OAAO;OACa,YAAY,CA8DhC;IAAD,mBAAC;;CA9DD,AA8DC,IAAA;kBA9DoB,YAAY","file":"","sourceRoot":"../../../../../assets/scripts/tools","sourcesContent":["import LogHelper from \"./LogHelper\";\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Localization{\n\n    static language:string = \"en\";\n\n    static langCache:any = null; \n\n    static initLangCache(cacheStr:string)\n    {\n        if(Localization.langCache == null && cacheStr !== null && cacheStr !== undefined)\n        {\n            LogHelper.log(\"cacheStr : \" + cacheStr);\n            Localization.langCache = JSON.parse(cacheStr);\n        }\n    }\n\n    static setLanguage(lang:string)\n    {\n        if(lang !== null && lang !== \"\")\n        {\n            Localization.language = lang\n        }\n    }\n\n    static getLanguage():string\n    {\n        return Localization.language;\n    }\n\n    static localizationString(key:string):string\n    {\n        if (Localization.langCache == null)\n        {\n            return key;\n        }\n\n        let subLangCache = Localization.langCache[key]\n        if(subLangCache !== null && subLangCache !== undefined)\n        {\n            return subLangCache[Localization.language] || subLangCache[\"en\"]; \n        }\n\n        return key;\n    }\n\n    static setLabelText(label:cc.Label,key:string,pramas:any[])\n    {\n        if(label != null && key )\n        {\n            let localStr = Localization.localizationString(key);\n\n            if(pramas)\n            {\n                let len = pramas.length;\n                for(let i = 0; i < len; i++)\n                {\n                    localStr = localStr.replace(/{#\\d}/,pramas[i]);\n                }\n            }\n\n            label.string = localStr;\n        }\n    }\n}\n"]}