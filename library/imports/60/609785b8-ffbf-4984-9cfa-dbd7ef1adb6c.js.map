{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\object\\model\\userModel/assets\\scripts\\object\\model\\userModel\\UserDataModel.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,2EAA2E;AAC3E,gHAAgH;AAChH,mBAAmB;AACnB,qFAAqF;AACrF,0HAA0H;AAC1H,8BAA8B;AAC9B,qFAAqF;AACrF,0HAA0H;;AAEpH,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAE1C,8CAAyC;AAGzC,IAAI,OAAO,GAAS,EAAG,CAAC,OAAO,CAAA;AAG/B;IAA2C,iCAAU;IADrD;QAAA,qEAgDC;QA7CG,kBAAY,GAAO;YACf,KAAK,EAAE,EAAE;SACZ,CAAC;;QA0CF,kBAAkB;IACtB,CAAC;IAzCG,gCAAQ,GAAR;QACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,gCAAQ,GAAR,UAAS,KAAa;QAClB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAClC,CAAC;IAED,uCAAe,GAAf;QAEI,GAAG,CAAA,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CACjC,CAAC;YACG,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAC3C,CAAC;IACL,CAAC;IAED,iCAAS,GAAT;QAEI,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,uCAAe,GAAf;QAEI,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAA;QACnE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC;QACD,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAA;IACvE,CAAC;IAED,2CAAmB,GAAnB,UAAoB,IAAQ;QAExB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,SAAS,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACrC,CAAC;IACL,CAAC;IA3CgB,aAAa;QADjC,OAAO;OACa,aAAa,CA+CjC;IAAD,oBAAC;CA/CD,AA+CC,CA/C0C,oBAAU,GA+CpD;kBA/CoB,aAAa","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\object\\model\\userModel","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/typescript/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nimport BasicModel from \"./../BasicModel\";\r\nimport TestVO from \"../../vo/userVO/TestVO\";\r\n\r\nlet talefun = (<any>cc).talefun\r\n\r\n@ccclass\r\nexport default class UserDataModel extends BasicModel {\r\n\r\n    userDataList: {} = {\r\n        token: \"\"\r\n    };\r\n\r\n    getToken(): string {\r\n        return this.userDataList[\"token\"];\r\n    }\r\n\r\n    setToken(token: string) {\r\n        this.userDataList[\"token\"] = token;\r\n        this.saveItem(\"token\", token);\r\n    }\r\n\r\n    saveUserDMCache()\r\n    {\r\n        for(let key in this.userDataList)\r\n        {\r\n            let item = this.userDataList[key];\r\n            this.saveItem(key,item.getFormatStr());\r\n        }\r\n    }\r\n\r\n    initModel()\r\n    {\r\n        this.parseDataFromDB();\r\n    }\r\n\r\n    parseDataFromDB()\r\n    {\r\n        talefun.LogHelper.log(\"**************parseDataFromDB*************\")\r\n        for (let k in this.userDataList) {\r\n            this.userDataList[k] = this.getItem(k);\r\n        }\r\n        talefun.LogHelper.log(\"**************parseDataFromDB*************\")\r\n    }\r\n\r\n    parseDataFromServer(data:any)\r\n    {\r\n        if (data.sessionToken != undefined) {\r\n            this.setToken(data.sessionToken);\r\n        }\r\n    }\r\n    \r\n\r\n    // update (dt) {},\r\n}\r\n"]}