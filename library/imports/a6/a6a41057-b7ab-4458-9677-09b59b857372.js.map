{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\viewCtrl\\GameView/assets\\scripts\\viewCtrl\\GameView\\BlockCellVo.ts"],"names":[],"mappings":";;;;;AACA,iDAA4C;AAE5C;IAAA;QAEI,YAAY;QACZ,WAAM,GAAY,CAAC,CAAC;QAEpB,gBAAgB;QAChB,cAAS,GAAa,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,SAAS;QACT,gBAAW,GAAa,IAAI,CAAC;QAE7B,WAAW;QACX,gBAAW,GAAiB,IAAI,CAAC;QAEjC,OAAO;QACP,kBAAa,GAAY,IAAI,CAAC;QAE9B,qBAAqB;QACrB,mBAAc,GAAsB,IAAI,CAAC;QAEzC,SAAS;QACT,mBAAc,GAAY,CAAC,CAAC;IAiDhC,CAAC;IA/CG,qCAAe,GAAf,UAAgB,MAAc,EAAE,SAAkB,EAAE,aAAqB,EAAE,UAAoB;QAC3F,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QAEnC,IAAI,SAAS,GAAY,uBAAa,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;QAChE,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;QACjE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;QAEhD,8CAA8C;QAC9C,4CAA4C;QAC5C,6CAA6C;QAC7C,2CAA2C;IAC/C,CAAC;IAED,oCAAc,GAAd,UAAe,SAAS;QACpB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAClD,CAAC;IACL,CAAC;IAED,iCAAW,GAAX,UAAY,GAAW;QACnB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;IACL,CAAC;IAED,iCAAW,GAAX,UAAY,OAAoB;QAC5B,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAC3B,OAAO,CAAC,cAAc,EAAE,CAAC;IAC7B,CAAC;IAED,sCAAgB,GAAhB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YAClC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC5B,CAAC;IAEL,CAAC;IAED,gCAAU,GAAV;QACI,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;QAC/B,uBAAa,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5D,CAAC;IACL,kBAAC;AAAD,CAtEA,AAsEC,IAAA","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\viewCtrl\\GameView","sourcesContent":["import BlockSpriteLogic from \"./BlockSpriteLogic\";\r\nimport BlockNodePool from \"./BlockNodePool\";\r\n\r\nexport default class BlockCellVo {\r\n\r\n    //小块的index坐标\r\n    posIdx : number = 0;\r\n\r\n    //小块的x，y index坐标\r\n    posVecIdx : cc.Vec2 = cc.p(0, 0);\r\n\r\n    //小块的渲染目标\r\n    blockSprite : cc.Node = null;\r\n\r\n    //小块重叠的背景小块\r\n    linkBlcokVo : BlockCellVo = null;\r\n\r\n    //小块的类型\r\n    blockColorIdx : number = null;\r\n\r\n    //blockctrl的component\r\n    spriteComponet : BlockSpriteLogic = null;\r\n\r\n    //小块被占用次数\r\n    linkedBlockNum : number = 0;\r\n\r\n    initBlockSprite(posIdx: number, posVecIdx: cc.Vec2, blockColorIdx: number, parentNode : cc.Node) {\r\n        this.posIdx = posIdx;\r\n        this.posVecIdx = posVecIdx;\r\n        this.blockColorIdx = blockColorIdx;\r\n\r\n        let blockNode: cc.Node = BlockNodePool.getInstance().getBlock();\r\n        parentNode.addChild(blockNode);\r\n        this.blockSprite = blockNode;\r\n        this.spriteComponet = blockNode.getComponent(\"BlockSpriteLogic\");\r\n        this.spriteComponet.setColorById(blockColorIdx);\r\n\r\n        // let blockSize = blockNode.getContentSize();\r\n        // let posX = posVecIdx.x * blockSize.width;\r\n        // let posY = posVecIdx.y * blockSize.height;\r\n        // blockNode.setPosition(cc.p(posX, posY));\r\n    }\r\n\r\n    setMaskVisible(isVisible) {\r\n        if (this.spriteComponet) {\r\n            this.spriteComponet.setMaskVisible(isVisible);\r\n        }\r\n    }\r\n\r\n    setNumLabel(num: number) {\r\n        if (this.spriteComponet) {\r\n            this.spriteComponet.setNumLable(num);\r\n        }\r\n    }\r\n\r\n    linkBgBlock(bgBlock: BlockCellVo) {\r\n        this.linkBlcokVo = bgBlock;\r\n        bgBlock.linkedBlockNum++;\r\n    }\r\n\r\n    clearLinkBgBlock() {\r\n        if (this.linkBlcokVo) {\r\n            this.linkBlcokVo.linkedBlockNum--;        \r\n            this.linkBlcokVo = null;\r\n        }\r\n        \r\n    }\r\n\r\n    removeSelf() {\r\n        this.spriteComponet.setMaskVisible(false);\r\n        this.blockSprite.parent = null;\r\n        BlockNodePool.getInstance().pushBlock(this.blockSprite);\r\n    }\r\n}"]}